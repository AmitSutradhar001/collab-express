import { useEffect, useState } from "react";
import { useNavigate, useParams } from "react-router-dom";
import { useApi } from "../context/ApiContext.jsx";

const LeagueChallenges = () => {
  const { clanId } = useParams();
  const navigate = useNavigate();
  const [err, setErr] = useState(false);
  const [data, setData] = useState(null);
  const [clanData, setClanData] = useState(null);
  const [popup, setPopup] = useState(false);
  const [loading, setLoading] = useState(false);
  const [newImg, setNewImg] = useState("");
  const api = useApi();
  useEffect(() => {
    async function fetchData() {
      try {
        const res = await api.get(`/warlog/all-by-clan/${clanId}`, {
          headers: {
            "Content-Type": import.meta.env.VITE_EXPRESS_HEADER,
          },
          withCredentials: true,
        });
        console.log(res);
        if (res.data.warLogs.length > 0) {
          setData(res.data.warLogs);
        } else {
          setErr(true);
        }
      } catch (error) {
        setErr(true);
        console.error("Error fetching war logs:", error);
      }
    }

    async function fetchClanData() {
      try {
        const clanResponse = await api.get(`/clan/by-id/${clanId}`, {
          headers: {
            "Content-Type": import.meta.env.VITE_EXPRESS_HEADER,
          },
          withCredentials: true,
        });
        console.log(clanResponse.data.clan);
        setClanData(clanResponse.data.clan);
      } catch (error) {
        console.error("Error fetching clan data:", error);
      }
    }

    fetchData();
    fetchClanData();
  }, [clanId, api, popup]); // Add dependencies
  const handlePopup = async (e) => {
    e.preventDefault();
    setPopup((pre) => !pre);
    setLoading((pre) => !pre);
    try {
      const res = await api.post(
        `/warlog/create`,
        { clanId, warDate: new Date() },
        {
          headers: {
            "Content-Type": import.meta.env.VITE_EXPRESS_HEADER,
          },
          withCredentials: true,
        }
      );
      if (res.status == 201) {
        setNewImg(res.data.clanAWarLog.opponentClanProfileImage);
        setLoading((pre) => !pre);
        setTimeout(() => {
          navigate(`/clan/${clanId}`);
        }, 2000);
      }
    } catch (error) {
      setErr(true);
      console.error("Error fetching war logs:", error);
    }
  };
  return (
    <>
      <div className="w-full">
        <button
          onClick={handlePopup}
          className="flex justify-center items-center border-[1px] rounded-md p-3 text-center w-52 mt-5 ml-20 border-blue-700 font-semibold hover:bg-blue-500 hover:text-white hover:cursor-pointer text-blue-700"
        >
          {popup ? "Cancle" : "Schedule War"}
        </button>
      </div>
      {/* {popup  } */}
      {popup ? (
        <>
          <div className="flex justify-center items-center w-full h-96">
            <div className="w-96 h-full flex">
              <div className="w-1/3 h-full flex justify-center items-center">
                <img className="w-36 h-36" src={clanData.profileImage} />
              </div>
              <div className="w-1/3 h-full flex justify-center items-center">
                <svg
                  className="w-16 h-16"
                  viewBox="0 0 60 74"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M7.17306 38.9615L44.0958 0.461475L25.0372 31.9615L51.8105 32.3014L9.48871 73.695L34.1056 38.9615L7.17306 38.9615Z"
                    fill="#111111"
                  />
                  <path
                    d="M0.352 45.4828V43.9788H9.856V45.5148L6.976 45.8348L11.84 60.1388L16.704 45.8668L14.016 45.5148V43.9788H21.184V45.4828L18.592 45.8668L11.904 65.3228H9.696L2.528 45.7068L0.352 45.4828Z"
                    fill="black"
                  />
                  <path
                    d="M39.8575 27.2348L40.4655 22.6908H42.2895L42.6735 26.6908C43.5482 26.9468 44.4549 27.0748 45.3935 27.0748C46.9935 27.0748 48.1775 26.7122 48.9455 25.9868C49.7135 25.2615 50.0975 24.3442 50.0975 23.2348C50.0975 22.7442 50.0229 22.2748 49.8735 21.8268C49.7242 21.3788 49.4149 20.8882 48.9455 20.3548C48.4762 19.8002 47.7615 19.1602 46.8015 18.4348C45.7135 17.6028 44.8709 16.8348 44.2735 16.1308C43.6762 15.4268 43.2602 14.7548 43.0255 14.1148C42.7909 13.4535 42.6735 12.7922 42.6735 12.1308C42.6735 11.0002 42.9722 9.99749 43.5695 9.12282C44.1669 8.22682 44.9882 7.53349 46.0335 7.04282C47.1002 6.53082 48.3055 6.27482 49.6495 6.27482C50.5242 6.27482 51.3989 6.38149 52.2735 6.59482C53.1695 6.80816 54.0655 7.18149 54.9615 7.71482L54.2255 12.1948H52.3375L52.1455 8.25882C51.7189 8.08816 51.3349 7.98149 50.9935 7.93882C50.6735 7.89616 50.3535 7.87482 50.0335 7.87482C48.4762 7.87482 47.2602 8.17349 46.3855 8.77082C45.5322 9.34682 45.1055 10.2322 45.1055 11.4268C45.1055 12.2802 45.3402 13.0588 45.8095 13.7628C46.3002 14.4455 47.1109 15.2242 48.2415 16.0988C49.4575 17.0375 50.3749 17.8695 50.9935 18.5948C51.6335 19.3202 52.0709 19.9922 52.3055 20.6108C52.5402 21.2295 52.6575 21.8695 52.6575 22.5308C52.6575 23.7682 52.3589 24.8455 51.7615 25.7628C51.1642 26.6802 50.3322 27.3948 49.2655 27.9068C48.1989 28.4188 46.9509 28.6748 45.5215 28.6748C44.5615 28.6748 43.5482 28.5468 42.4815 28.2908C41.4149 28.0348 40.5402 27.6828 39.8575 27.2348Z"
                    fill="black"
                  />
                </svg>
              </div>
              <div className="w-1/3 h-full flex justify-center items-center">
                {loading ? (
                  <>
                    <p className="text-2xl font-bold text-blue-600">
                      Loading...
                    </p>
                  </>
                ) : (
                  <img className="w-36 h-36" src={newImg} />
                )}
              </div>
            </div>
          </div>
        </>
      ) : (
        !err &&
        data?.length > 0 &&
        !popup && (
          <>
            <div className="w-full px-20 pb-10">
              <div className="w-full pt-10">
                <p className="text-lg font-semibold">Live Matches</p>
                <div className="flex gap-4 justify-start items-center">
                  {data
                    .filter((war) => war.isLive)
                    .map((war) => (
                      <div
                        key={war._id}
                        className="border-[1px] w-56 flex flex-col gap-2 border-gray-600 rounded-md p-3"
                      >
                        <div className="flex w-full items-center justify-between gap-1">
                          <div className="w-1/3 flex flex-col justify-center items-center">
                            <svg
                              className="w-16 h-16"
                              viewBox="0 0 62 68"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M45.125 6.87059C43.2814 4.65512 43.0165 2.46573 42.9128 1.60892C42.902 1.51982 42.893 1.44513 42.8841 1.38633C42.8807 1.36409 42.8774 1.34412 42.874 1.32651C42.8655 1.28283 42.8233 1.25427 42.7796 1.26271C42.7359 1.27115 42.7074 1.31339 42.7158 1.35707C42.7275 1.41755 42.7385 1.50919 42.7528 1.62817C42.8546 2.47686 43.1235 4.7172 45.0012 6.97362C45.0157 6.99112 45.0362 7.00088 45.0572 7.00243C45.0616 7.00275 45.066 7.00272 45.0704 7.00232C45.0861 7.0009 45.1016 6.99486 45.1146 6.98401C45.1488 6.95556 45.1535 6.90478 45.125 6.87059Z"
                                fill="#D9D9D9"
                              />
                              <path
                                fillRule="evenodd"
                                clipRule="evenodd"
                                d="M45.0778 7.00132C45.0759 7.00268 45.0733 7.00267 45.0704 7.00232C45.0729 7.0021 45.0753 7.00176 45.0778 7.00132Z"
                                fill="#D9D9D9"
                              />
                              <path
                                d="M31.9594 66.5796C51.0867 56.1719 57.2602 43.727 61 9.2664L42.8841 1.38633C42.893 1.44513 42.902 1.51982 42.9128 1.60892C43.0165 2.46573 43.2814 4.65512 45.125 6.87059C45.1535 6.90478 45.1488 6.95556 45.1146 6.98401C45.1036 6.99317 45.0909 6.9989 45.0778 7.00132C45.0759 7.00268 45.0733 7.00267 45.0704 7.00232C45.066 7.00272 45.0616 7.00275 45.0572 7.00243C40.1534 10.6475 35.5337 10.4965 34.6009 10.6251C34.108 13.7711 32.2145 15.3922 31.9065 15.772C31.9405 19.7333 31.9057 25.8218 31.9057 25.8218L31.9594 38.3257V66.5796Z"
                                fill="url(#paint0_linear_111_1503)"
                              />
                              <path
                                d="M1 9.82511C5.95185 44.5754 12.3404 56.7064 31.9594 66.5796V38.3257L31.9057 25.8218C31.9057 25.8218 31.9405 19.7333 31.9065 15.772C29.259 13.7668 28.6323 11.3126 28.424 10.8456C21.9033 11.0699 17.9818 8.03633 17.0855 7.58244C17.3663 7.15502 19.0814 5.31308 19.3402 2.00206C19.2782 2.02868 15.3483 3.67365 1 9.82511Z"
                                fill="#4E4DFF"
                              />
                              <path
                                d="M31.9594 66.5796C51.0867 56.1719 57.2602 43.727 61 9.2664L42.8841 1.38633M31.9594 66.5796C12.3404 56.7064 5.95185 44.5754 1 9.82511C15.3483 3.67365 19.2782 2.02868 19.3402 2.00206C19.0814 5.31308 17.3663 7.15502 17.0855 7.58244C17.9818 8.03633 21.9033 11.0699 28.424 10.8456M31.9594 66.5796V38.3257L31.9057 25.8218C31.9057 25.8218 31.9405 19.7333 31.9065 15.772M42.8841 1.38633C42.893 1.44513 42.902 1.51982 42.9128 1.60892C43.0165 2.46573 43.2814 4.65512 45.125 6.87059C45.1535 6.90478 45.1488 6.95556 45.1146 6.98401M42.8841 1.38633C42.8807 1.36409 42.8774 1.34412 42.874 1.32651C42.8655 1.28283 42.8233 1.25427 42.7796 1.26271C42.7359 1.27115 42.7074 1.31339 42.7158 1.35707C42.7275 1.41755 42.7385 1.50919 42.7528 1.62817C42.8546 2.47686 43.1235 4.7172 45.0012 6.97362C45.0157 6.99112 45.0362 7.00088 45.0572 7.00243M31.7314 5.85204C30.8165 9.14887 28.787 10.4625 28.424 10.8456M31.7314 5.85204C31.8964 6.33606 32.1462 8.3881 34.6009 10.6251M31.7314 5.85204C31.7314 5.85204 31.8742 12.013 31.9065 15.772M28.424 10.8456C28.6323 11.3126 29.259 13.7668 31.9065 15.772M34.6009 10.6251C34.108 13.7711 32.2145 15.3922 31.9065 15.772M34.6009 10.6251C35.5337 10.4965 40.1534 10.6475 45.0572 7.00243M45.1146 6.98401C45.1016 6.99486 45.0861 7.0009 45.0704 7.00232M45.1146 6.98401C45.1036 6.99317 45.0909 6.9989 45.0778 7.00132M45.0778 7.00132C45.0759 7.00268 45.0733 7.00267 45.0704 7.00232M45.0778 7.00132C45.0753 7.00176 45.0729 7.0021 45.0704 7.00232M45.0572 7.00243C45.0616 7.00275 45.066 7.00272 45.0704 7.00232M45.0572 7.00243C45.0603 7.00014 45.0656 7.00172 45.0704 7.00232"
                                stroke="white"
                              />
                              <defs>
                                <linearGradient
                                  id="paint0_linear_111_1503"
                                  x1="61"
                                  y1="33.9204"
                                  x2="1"
                                  y2="33.9204"
                                  gradientUnits="userSpaceOnUse"
                                >
                                  <stop />
                                  <stop offset="1" stopColor="#666666" />
                                </linearGradient>
                              </defs>
                            </svg>
                            <p className="text-truncate text-center w-full overflow-hidden text-ellipsis whitespace-nowrap">
                              {clanData?.name}
                            </p>
                          </div>
                          <div className="w-1/3">
                            <svg
                              className="w-16 h-16"
                              viewBox="0 0 60 74"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M7.17306 38.9615L44.0958 0.461475L25.0372 31.9615L51.8105 32.3014L9.48871 73.695L34.1056 38.9615L7.17306 38.9615Z"
                                fill="#111111"
                              />
                              <path
                                d="M0.352 45.4828V43.9788H9.856V45.5148L6.976 45.8348L11.84 60.1388L16.704 45.8668L14.016 45.5148V43.9788H21.184V45.4828L18.592 45.8668L11.904 65.3228H9.696L2.528 45.7068L0.352 45.4828Z"
                                fill="black"
                              />
                              <path
                                d="M39.8575 27.2348L40.4655 22.6908H42.2895L42.6735 26.6908C43.5482 26.9468 44.4549 27.0748 45.3935 27.0748C46.9935 27.0748 48.1775 26.7122 48.9455 25.9868C49.7135 25.2615 50.0975 24.3442 50.0975 23.2348C50.0975 22.7442 50.0229 22.2748 49.8735 21.8268C49.7242 21.3788 49.4149 20.8882 48.9455 20.3548C48.4762 19.8002 47.7615 19.1602 46.8015 18.4348C45.7135 17.6028 44.8709 16.8348 44.2735 16.1308C43.6762 15.4268 43.2602 14.7548 43.0255 14.1148C42.7909 13.4535 42.6735 12.7922 42.6735 12.1308C42.6735 11.0002 42.9722 9.99749 43.5695 9.12282C44.1669 8.22682 44.9882 7.53349 46.0335 7.04282C47.1002 6.53082 48.3055 6.27482 49.6495 6.27482C50.5242 6.27482 51.3989 6.38149 52.2735 6.59482C53.1695 6.80816 54.0655 7.18149 54.9615 7.71482L54.2255 12.1948H52.3375L52.1455 8.25882C51.7189 8.08816 51.3349 7.98149 50.9935 7.93882C50.6735 7.89616 50.3535 7.87482 50.0335 7.87482C48.4762 7.87482 47.2602 8.17349 46.3855 8.77082C45.5322 9.34682 45.1055 10.2322 45.1055 11.4268C45.1055 12.2802 45.3402 13.0588 45.8095 13.7628C46.3002 14.4455 47.1109 15.2242 48.2415 16.0988C49.4575 17.0375 50.3749 17.8695 50.9935 18.5948C51.6335 19.3202 52.0709 19.9922 52.3055 20.6108C52.5402 21.2295 52.6575 21.8695 52.6575 22.5308C52.6575 23.7682 52.3589 24.8455 51.7615 25.7628C51.1642 26.6802 50.3322 27.3948 49.2655 27.9068C48.1989 28.4188 46.9509 28.6748 45.5215 28.6748C44.5615 28.6748 43.5482 28.5468 42.4815 28.2908C41.4149 28.0348 40.5402 27.6828 39.8575 27.2348Z"
                                fill="black"
                              />
                            </svg>
                          </div>
                          <div className="w-1/3 flex flex-col justify-center items-center">
                            <svg
                              className="w-16 h-16"
                              viewBox="0 0 62 68"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M45.125 6.87059C43.2814 4.65512 43.0165 2.46573 42.9128 1.60892C42.902 1.51982 42.893 1.44513 42.8841 1.38633C42.8807 1.36409 42.8774 1.34412 42.874 1.32651C42.8655 1.28283 42.8233 1.25427 42.7796 1.26271C42.7359 1.27115 42.7074 1.31339 42.7158 1.35707C42.7275 1.41755 42.7385 1.50919 42.7528 1.62817C42.8546 2.47686 43.1235 4.7172 45.0012 6.97362C45.0157 6.99112 45.0362 7.00088 45.0572 7.00243C45.0616 7.00275 45.066 7.00272 45.0704 7.00232C45.0861 7.0009 45.1016 6.99486 45.1146 6.98401C45.1488 6.95556 45.1535 6.90478 45.125 6.87059Z"
                                fill="#D9D9D9"
                              />
                              <path
                                fillRule="evenodd"
                                clipRule="evenodd"
                                d="M45.0778 7.00132C45.0759 7.00268 45.0733 7.00267 45.0704 7.00232C45.0729 7.0021 45.0753 7.00176 45.0778 7.00132Z"
                                fill="#D9D9D9"
                              />
                              <path
                                d="M31.9594 66.5796C51.0867 56.1719 57.2602 43.727 61 9.2664L42.8841 1.38633C42.893 1.44513 42.902 1.51982 42.9128 1.60892C43.0165 2.46573 43.2814 4.65512 45.125 6.87059C45.1535 6.90478 45.1488 6.95556 45.1146 6.98401C45.1036 6.99317 45.0909 6.9989 45.0778 7.00132C45.0759 7.00268 45.0733 7.00267 45.0704 7.00232C45.066 7.00272 45.0616 7.00275 45.0572 7.00243C40.1534 10.6475 35.5337 10.4965 34.6009 10.6251C34.108 13.7711 32.2145 15.3922 31.9065 15.772C31.9405 19.7333 31.9057 25.8218 31.9057 25.8218L31.9594 38.3257V66.5796Z"
                                fill="url(#paint0_linear_111_1503)"
                              />
                              <path
                                d="M1 9.82511C5.95185 44.5754 12.3404 56.7064 31.9594 66.5796V38.3257L31.9057 25.8218C31.9057 25.8218 31.9405 19.7333 31.9065 15.772C29.259 13.7668 28.6323 11.3126 28.424 10.8456C21.9033 11.0699 17.9818 8.03633 17.0855 7.58244C17.3663 7.15502 19.0814 5.31308 19.3402 2.00206C19.2782 2.02868 15.3483 3.67365 1 9.82511Z"
                                fill="#4E4DFF"
                              />
                              <path
                                d="M31.9594 66.5796C51.0867 56.1719 57.2602 43.727 61 9.2664L42.8841 1.38633M31.9594 66.5796C12.3404 56.7064 5.95185 44.5754 1 9.82511C15.3483 3.67365 19.2782 2.02868 19.3402 2.00206C19.0814 5.31308 17.3663 7.15502 17.0855 7.58244C17.9818 8.03633 21.9033 11.0699 28.424 10.8456M31.9594 66.5796V38.3257L31.9057 25.8218C31.9057 25.8218 31.9405 19.7333 31.9065 15.772M42.8841 1.38633C42.893 1.44513 42.902 1.51982 42.9128 1.60892C43.0165 2.46573 43.2814 4.65512 45.125 6.87059C45.1535 6.90478 45.1488 6.95556 45.1146 6.98401M42.8841 1.38633C42.8807 1.36409 42.8774 1.34412 42.874 1.32651C42.8655 1.28283 42.8233 1.25427 42.7796 1.26271C42.7359 1.27115 42.7074 1.31339 42.7158 1.35707C42.7275 1.41755 42.7385 1.50919 42.7528 1.62817C42.8546 2.47686 43.1235 4.7172 45.0012 6.97362C45.0157 6.99112 45.0362 7.00088 45.0572 7.00243M31.7314 5.85204C30.8165 9.14887 28.787 10.4625 28.424 10.8456M31.7314 5.85204C31.8964 6.33606 32.1462 8.3881 34.6009 10.6251M31.7314 5.85204C31.7314 5.85204 31.8742 12.013 31.9065 15.772M28.424 10.8456C28.6323 11.3126 29.259 13.7668 31.9065 15.772M34.6009 10.6251C34.108 13.7711 32.2145 15.3922 31.9065 15.772M34.6009 10.6251C35.5337 10.4965 40.1534 10.6475 45.0572 7.00243M45.1146 6.98401C45.1016 6.99486 45.0861 7.0009 45.0704 7.00232M45.1146 6.98401C45.1036 6.99317 45.0909 6.9989 45.0778 7.00132M45.0778 7.00132C45.0759 7.00268 45.0733 7.00267 45.0704 7.00232M45.0778 7.00132C45.0753 7.00176 45.0729 7.0021 45.0704 7.00232M45.0572 7.00243C45.0616 7.00275 45.066 7.00272 45.0704 7.00232M45.0572 7.00243C45.0603 7.00014 45.0656 7.00172 45.0704 7.00232"
                                stroke="white"
                              />
                              <defs>
                                <linearGradient
                                  id="paint0_linear_111_1503"
                                  x1="61"
                                  y1="33.9204"
                                  x2="1"
                                  y2="33.9204"
                                  gradientUnits="userSpaceOnUse"
                                >
                                  <stop />
                                  <stop offset="1" stopColor="#666666" />
                                </linearGradient>
                              </defs>
                            </svg>
                            <p className="text-truncate text-center w-full overflow-hidden text-ellipsis whitespace-nowrap">
                              {war?.opponentClanName}
                            </p>
                          </div>
                        </div>
                        <div className="flex w-full justify-center items-center gap-2">
                          <div className="w-1 h-1 p-1 rounded-full bg-red-400"></div>
                          <p>Live</p>
                        </div>
                      </div>
                    ))}
                </div>
              </div>
              <div className="w-full pt-10">
                <div className="flex justify-between gap-3 items-center">
                  <p className="text-lg font-semibold">Recent matches</p>
                  <div className="flex justify-center items-center gap-2">
                    <p>See all</p>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      className="w-5 h-5"
                      viewBox="0 0 24 24"
                      id="right-arrow"
                    >
                      <path d="M14.83,11.29,10.59,7.05a1,1,0,0,0-1.42,0,1,1,0,0,0,0,1.41L12.71,12,9.17,15.54a1,1,0,0,0,0,1.41,1,1,0,0,0,.71.29,1,1,0,0,0,.71-.29l4.24-4.24A1,1,0,0,0,14.83,11.29Z"></path>
                    </svg>
                  </div>
                </div>
                <div className="flex gap-4 justify-start items-center">
                  {data
                    ?.filter(
                      (item) =>
                        !item.isLive && new Date(item.warDate) < new Date()
                    )
                    .map((war) => (
                      <>
                        <div
                          key={war._id}
                          className="border-[1px] w-56 flex flex-col gap-2 border-gray-600 rounded-md p-3"
                        >
                          <div className="flex w-full justify-between gap-1 ">
                            <div className="w-1/3 flex flex-col justify-center items-center">
                              <svg
                                className="w-16 h-16"
                                viewBox="0 0 62 68"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                              >
                                <path
                                  d="M45.125 6.87059C43.2814 4.65512 43.0165 2.46573 42.9128 1.60892C42.902 1.51982 42.893 1.44513 42.8841 1.38633C42.8807 1.36409 42.8774 1.34412 42.874 1.32651C42.8655 1.28283 42.8233 1.25427 42.7796 1.26271C42.7359 1.27115 42.7074 1.31339 42.7158 1.35707C42.7275 1.41755 42.7385 1.50919 42.7528 1.62817C42.8546 2.47686 43.1235 4.7172 45.0012 6.97362C45.0157 6.99112 45.0362 7.00088 45.0572 7.00243C45.0616 7.00275 45.066 7.00272 45.0704 7.00232C45.0861 7.0009 45.1016 6.99486 45.1146 6.98401C45.1488 6.95556 45.1535 6.90478 45.125 6.87059Z"
                                  fill="#D9D9D9"
                                />
                                <path
                                  fillRule="evenodd"
                                  clipRule="evenodd"
                                  d="M45.0778 7.00132C45.0759 7.00268 45.0733 7.00267 45.0704 7.00232C45.0729 7.0021 45.0753 7.00176 45.0778 7.00132Z"
                                  fill="#D9D9D9"
                                />
                                <path
                                  d="M31.9594 66.5796C51.0867 56.1719 57.2602 43.727 61 9.2664L42.8841 1.38633C42.893 1.44513 42.902 1.51982 42.9128 1.60892C43.0165 2.46573 43.2814 4.65512 45.125 6.87059C45.1535 6.90478 45.1488 6.95556 45.1146 6.98401C45.1036 6.99317 45.0909 6.9989 45.0778 7.00132C45.0759 7.00268 45.0733 7.00267 45.0704 7.00232C45.066 7.00272 45.0616 7.00275 45.0572 7.00243C40.1534 10.6475 35.5337 10.4965 34.6009 10.6251C34.108 13.7711 32.2145 15.3922 31.9065 15.772C31.9405 19.7333 31.9057 25.8218 31.9057 25.8218L31.9594 38.3257V66.5796Z"
                                  fill="url(#paint0_linear_111_1503)"
                                />
                                <path
                                  d="M1 9.82511C5.95185 44.5754 12.3404 56.7064 31.9594 66.5796V38.3257L31.9057 25.8218C31.9057 25.8218 31.9405 19.7333 31.9065 15.772C29.259 13.7668 28.6323 11.3126 28.424 10.8456C21.9033 11.0699 17.9818 8.03633 17.0855 7.58244C17.3663 7.15502 19.0814 5.31308 19.3402 2.00206C19.2782 2.02868 15.3483 3.67365 1 9.82511Z"
                                  fill="#4E4DFF"
                                />
                                <path
                                  d="M31.9594 66.5796C51.0867 56.1719 57.2602 43.727 61 9.2664L42.8841 1.38633M31.9594 66.5796C12.3404 56.7064 5.95185 44.5754 1 9.82511C15.3483 3.67365 19.2782 2.02868 19.3402 2.00206C19.0814 5.31308 17.3663 7.15502 17.0855 7.58244C17.9818 8.03633 21.9033 11.0699 28.424 10.8456M31.9594 66.5796V38.3257L31.9057 25.8218C31.9057 25.8218 31.9405 19.7333 31.9065 15.772M42.8841 1.38633C42.893 1.44513 42.902 1.51982 42.9128 1.60892C43.0165 2.46573 43.2814 4.65512 45.125 6.87059C45.1535 6.90478 45.1488 6.95556 45.1146 6.98401M42.8841 1.38633C42.8807 1.36409 42.8774 1.34412 42.874 1.32651C42.8655 1.28283 42.8233 1.25427 42.7796 1.26271C42.7359 1.27115 42.7074 1.31339 42.7158 1.35707C42.7275 1.41755 42.7385 1.50919 42.7528 1.62817C42.8546 2.47686 43.1235 4.7172 45.0012 6.97362C45.0157 6.99112 45.0362 7.00088 45.0572 7.00243M31.7314 5.85204C30.8165 9.14887 28.787 10.4625 28.424 10.8456M31.7314 5.85204C31.8964 6.33606 32.1462 8.3881 34.6009 10.6251M31.7314 5.85204C31.7314 5.85204 31.8742 12.013 31.9065 15.772M28.424 10.8456C28.6323 11.3126 29.259 13.7668 31.9065 15.772M34.6009 10.6251C34.108 13.7711 32.2145 15.3922 31.9065 15.772M34.6009 10.6251C35.5337 10.4965 40.1534 10.6475 45.0572 7.00243M45.1146 6.98401C45.1016 6.99486 45.0861 7.0009 45.0704 7.00232M45.1146 6.98401C45.1036 6.99317 45.0909 6.9989 45.0778 7.00132M45.0778 7.00132C45.0759 7.00268 45.0733 7.00267 45.0704 7.00232M45.0778 7.00132C45.0753 7.00176 45.0729 7.0021 45.0704 7.00232M45.0572 7.00243C45.0616 7.00275 45.066 7.00272 45.0704 7.00232M45.0572 7.00243C45.0603 7.00014 45.0656 7.00172 45.0704 7.00232"
                                  stroke="white"
                                />
                                <defs>
                                  <linearGradient
                                    id="paint0_linear_111_1503"
                                    x1="61"
                                    y1="33.9204"
                                    x2="1"
                                    y2="33.9204"
                                    gradientUnits="userSpaceOnUse"
                                  >
                                    <stop />
                                    <stop offset="1" stopColor="#666666" />
                                  </linearGradient>
                                </defs>
                              </svg>
                              <p className="text-truncate text-center w-full overflow-hidden text-ellipsis whitespace-nowrap">
                                {clanData?.name}
                              </p>
                            </div>
                            <div className="w-1/3">
                              <svg
                                className="w-16 h-16"
                                viewBox="0 0 60 74"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                              >
                                <path
                                  d="M7.17306 38.9615L44.0958 0.461475L25.0372 31.9615L51.8105 32.3014L9.48871 73.695L34.1056 38.9615L7.17306 38.9615Z"
                                  fill="#111111"
                                />
                                <path
                                  d="M0.352 45.4828V43.9788H9.856V45.5148L6.976 45.8348L11.84 60.1388L16.704 45.8668L14.016 45.5148V43.9788H21.184V45.4828L18.592 45.8668L11.904 65.3228H9.696L2.528 45.7068L0.352 45.4828Z"
                                  fill="black"
                                />
                                <path
                                  d="M39.8575 27.2348L40.4655 22.6908H42.2895L42.6735 26.6908C43.5482 26.9468 44.4549 27.0748 45.3935 27.0748C46.9935 27.0748 48.1775 26.7122 48.9455 25.9868C49.7135 25.2615 50.0975 24.3442 50.0975 23.2348C50.0975 22.7442 50.0229 22.2748 49.8735 21.8268C49.7242 21.3788 49.4149 20.8882 48.9455 20.3548C48.4762 19.8002 47.7615 19.1602 46.8015 18.4348C45.7135 17.6028 44.8709 16.8348 44.2735 16.1308C43.6762 15.4268 43.2602 14.7548 43.0255 14.1148C42.7909 13.4535 42.6735 12.7922 42.6735 12.1308C42.6735 11.0002 42.9722 9.99749 43.5695 9.12282C44.1669 8.22682 44.9882 7.53349 46.0335 7.04282C47.1002 6.53082 48.3055 6.27482 49.6495 6.27482C50.5242 6.27482 51.3989 6.38149 52.2735 6.59482C53.1695 6.80816 54.0655 7.18149 54.9615 7.71482L54.2255 12.1948H52.3375L52.1455 8.25882C51.7189 8.08816 51.3349 7.98149 50.9935 7.93882C50.6735 7.89616 50.3535 7.87482 50.0335 7.87482C48.4762 7.87482 47.2602 8.17349 46.3855 8.77082C45.5322 9.34682 45.1055 10.2322 45.1055 11.4268C45.1055 12.2802 45.3402 13.0588 45.8095 13.7628C46.3002 14.4455 47.1109 15.2242 48.2415 16.0988C49.4575 17.0375 50.3749 17.8695 50.9935 18.5948C51.6335 19.3202 52.0709 19.9922 52.3055 20.6108C52.5402 21.2295 52.6575 21.8695 52.6575 22.5308C52.6575 23.7682 52.3589 24.8455 51.7615 25.7628C51.1642 26.6802 50.3322 27.3948 49.2655 27.9068C48.1989 28.4188 46.9509 28.6748 45.5215 28.6748C44.5615 28.6748 43.5482 28.5468 42.4815 28.2908C41.4149 28.0348 40.5402 27.6828 39.8575 27.2348Z"
                                  fill="black"
                                />
                              </svg>
                            </div>
                            <div className="w-1/3 flex flex-col justify-center items-center">
                              <svg
                                className="w-16 h-16"
                                viewBox="0 0 62 68"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                              >
                                <path
                                  d="M45.125 6.87059C43.2814 4.65512 43.0165 2.46573 42.9128 1.60892C42.902 1.51982 42.893 1.44513 42.8841 1.38633C42.8807 1.36409 42.8774 1.34412 42.874 1.32651C42.8655 1.28283 42.8233 1.25427 42.7796 1.26271C42.7359 1.27115 42.7074 1.31339 42.7158 1.35707C42.7275 1.41755 42.7385 1.50919 42.7528 1.62817C42.8546 2.47686 43.1235 4.7172 45.0012 6.97362C45.0157 6.99112 45.0362 7.00088 45.0572 7.00243C45.0616 7.00275 45.066 7.00272 45.0704 7.00232C45.0861 7.0009 45.1016 6.99486 45.1146 6.98401C45.1488 6.95556 45.1535 6.90478 45.125 6.87059Z"
                                  fill="#D9D9D9"
                                />
                                <path
                                  fillRule="evenodd"
                                  clipRule="evenodd"
                                  d="M45.0778 7.00132C45.0759 7.00268 45.0733 7.00267 45.0704 7.00232C45.0729 7.0021 45.0753 7.00176 45.0778 7.00132Z"
                                  fill="#D9D9D9"
                                />
                                <path
                                  d="M31.9594 66.5796C51.0867 56.1719 57.2602 43.727 61 9.2664L42.8841 1.38633C42.893 1.44513 42.902 1.51982 42.9128 1.60892C43.0165 2.46573 43.2814 4.65512 45.125 6.87059C45.1535 6.90478 45.1488 6.95556 45.1146 6.98401C45.1036 6.99317 45.0909 6.9989 45.0778 7.00132C45.0759 7.00268 45.0733 7.00267 45.0704 7.00232C45.066 7.00272 45.0616 7.00275 45.0572 7.00243C40.1534 10.6475 35.5337 10.4965 34.6009 10.6251C34.108 13.7711 32.2145 15.3922 31.9065 15.772C31.9405 19.7333 31.9057 25.8218 31.9057 25.8218L31.9594 38.3257V66.5796Z"
                                  fill="url(#paint0_linear_111_1503)"
                                />
                                <path
                                  d="M1 9.82511C5.95185 44.5754 12.3404 56.7064 31.9594 66.5796V38.3257L31.9057 25.8218C31.9057 25.8218 31.9405 19.7333 31.9065 15.772C29.259 13.7668 28.6323 11.3126 28.424 10.8456C21.9033 11.0699 17.9818 8.03633 17.0855 7.58244C17.3663 7.15502 19.0814 5.31308 19.3402 2.00206C19.2782 2.02868 15.3483 3.67365 1 9.82511Z"
                                  fill="#4E4DFF"
                                />
                                <path
                                  d="M31.9594 66.5796C51.0867 56.1719 57.2602 43.727 61 9.2664L42.8841 1.38633M31.9594 66.5796C12.3404 56.7064 5.95185 44.5754 1 9.82511C15.3483 3.67365 19.2782 2.02868 19.3402 2.00206C19.0814 5.31308 17.3663 7.15502 17.0855 7.58244C17.9818 8.03633 21.9033 11.0699 28.424 10.8456M31.9594 66.5796V38.3257L31.9057 25.8218C31.9057 25.8218 31.9405 19.7333 31.9065 15.772M42.8841 1.38633C42.893 1.44513 42.902 1.51982 42.9128 1.60892C43.0165 2.46573 43.2814 4.65512 45.125 6.87059C45.1535 6.90478 45.1488 6.95556 45.1146 6.98401M42.8841 1.38633C42.8807 1.36409 42.8774 1.34412 42.874 1.32651C42.8655 1.28283 42.8233 1.25427 42.7796 1.26271C42.7359 1.27115 42.7074 1.31339 42.7158 1.35707C42.7275 1.41755 42.7385 1.50919 42.7528 1.62817C42.8546 2.47686 43.1235 4.7172 45.0012 6.97362C45.0157 6.99112 45.0362 7.00088 45.0572 7.00243M31.7314 5.85204C30.8165 9.14887 28.787 10.4625 28.424 10.8456M31.7314 5.85204C31.8964 6.33606 32.1462 8.3881 34.6009 10.6251M31.7314 5.85204C31.7314 5.85204 31.8742 12.013 31.9065 15.772M28.424 10.8456C28.6323 11.3126 29.259 13.7668 31.9065 15.772M34.6009 10.6251C34.108 13.7711 32.2145 15.3922 31.9065 15.772M34.6009 10.6251C35.5337 10.4965 40.1534 10.6475 45.0572 7.00243M45.1146 6.98401C45.1016 6.99486 45.0861 7.0009 45.0704 7.00232M45.1146 6.98401C45.1036 6.99317 45.0909 6.9989 45.0778 7.00132M45.0778 7.00132C45.0759 7.00268 45.0733 7.00267 45.0704 7.00232M45.0778 7.00132C45.0753 7.00176 45.0729 7.0021 45.0704 7.00232M45.0572 7.00243C45.0616 7.00275 45.066 7.00272 45.0704 7.00232M45.0572 7.00243C45.0603 7.00014 45.0656 7.00172 45.0704 7.00232"
                                  stroke="white"
                                />
                                <defs>
                                  <linearGradient
                                    id="paint0_linear_111_1503"
                                    x1="61"
                                    y1="33.9204"
                                    x2="1"
                                    y2="33.9204"
                                    gradientUnits="userSpaceOnUse"
                                  >
                                    <stop />
                                    <stop offset="1" stopColor="#666666" />
                                  </linearGradient>
                                </defs>
                              </svg>
                              <p className="text-truncate text-center w-full overflow-hidden text-ellipsis whitespace-nowrap">
                                {war?.opponentClanName}
                              </p>
                            </div>
                          </div>
                          <div className="flex w-full justify-center items-center gap-2">
                            <div className="w-1 h-1 p-1 rounded-full bg-red-400"></div>
                            <p>
                              {new Date(war?.warDate).toLocaleString("en-US", {
                                day: "numeric",
                                month: "long",
                                hour: "numeric",
                                minute: "numeric",
                                hour12: true,
                              })}
                            </p>
                          </div>
                        </div>
                      </>
                    ))}
                </div>
              </div>
            </div>
          </>
        )
      )}
    </>
  );
};
export default LeagueChallenges;
